define(["backbone"],function(a){return a.View.extend({el:$("#content-controls"),events:{"click #prev":"prev","click #next":"next"},isHidden:false,initialize:function(b){$("body").on("keydown",_.bind(this.onkeydown,this));this.menu=b.menu},toggle:function(){if(this.menu.hasNextItem()){this.unhide()}else{this.hide()}},unhide:function(){this.$el.removeClass("hidden");this.isHidden=false},hide:function(){this.$el.addClass("hidden");this.isHidden=true},prev:function(){if(!this.isHidden){this.menu.prevItem().doClick()}},next:function(){if(!this.isHidden){this.menu.nextItem().doClick()}},onkeydown:function(g){var f=37;var c=39;var b=38;var h=40;var d=32;switch(g.which){case b:case f:this.prev();return false;case h:case c:this.next();return false;case d:this.play()&&this.next();return false}return true},play:function(){var b=$("iframe")[0];if(b){var d=b.src;if(d.contains("autoplay")){b.src=d.replace(/autoplay[^&]*[&]*/,"");return false}var c=d.contains("?")?"&":"?";c+="autoplay=1";b.src+=c;console.log(b.src);return false}return true},})});