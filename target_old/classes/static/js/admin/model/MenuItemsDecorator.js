define(["backbone","admin/model/MenuItems"],function(b,a){return a.extend({initialize:function(d,c){this.on("sync",this.onSync,this);this.on("error",this.onError,this);this.data=c.data},onError:function(c){console.log("fetch error");if(this.length==0){this.reset(this.data);this.trigger("sync")}},onSync:function(){if(this.length==0){console.log("server returns empty collection");this.reset(this.data)}},save:function(e){var d=this;var c={success:function(f,h,g){console.assert(f.length!=0,"model.length != 0");console.log("success",f);d.reset(f);d.trigger("sync");e()}};return b.sync("create",this,c)}})});