define(["backbone"],function(a){return a.Model.extend({url:"/menuitem",sync:function(){return false},notEmpty:function(){return this.get("url")||this.get("description")},cleanup:function(){if(this.has("children")){console.log("has children");var c;var d=this.get("children");while(c=d.pop()){c.cleanup()}}var b=this.get("content").get("url");console.log("deleting",b);if(b){$.ajax({url:"/uploadcleanup",type:"POST",data:b,error:function(f,e){console.log("cleanup error");console.log(e)},cache:false,processData:false,context:this,contentType:"text/html"})}this.destroy()},})});