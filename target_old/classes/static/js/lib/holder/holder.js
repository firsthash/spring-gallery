var onDomReady=require("./lib/ondomready");var SceneGraph=require("./scenegraph");var utils=require("./utils");var extend=utils.extend;var cssProps=utils.cssProps;var encodeHtmlEntity=utils.encodeHtmlEntity;var decodeHtmlEntity=utils.decodeHtmlEntity;var imageExists=utils.imageExists;var getNodeArray=utils.getNodeArray;var dimensionCheck=utils.dimensionCheck;var SVG_NS="http://www.w3.org/2000/svg";var NODE_TYPE_COMMENT=8;var version="%version%";var generatorComment="\nCreated with Holder.js "+version+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n";var Holder={version:version,addTheme:function(a,b){a!=null&&b!=null&&(App.settings.themes[a]=b);delete App.vars.cache.themeKeys;return this},addImage:function(g,e){var f=document.querySelectorAll(e);if(f.length){for(var d=0,a=f.length;d<a;d++){var b=newEl("img");var c={};c[App.vars.dataAttr]=g;setAttr(b,c);f[d].appendChild(b)}}return this},setResizeUpdate:function(a,b){if(a.holderData){a.holderData.resizeUpdate=!!b;if(a.holderData.resizeUpdate){updateResizableElements(a)}}},run:function(h){h=h||{};var p={};var g=extend(App.settings,h);App.vars.preempted=true;App.vars.dataAttr=g.dataAttr||App.vars.dataAttr;p.renderer=g.renderer?g.renderer:App.setup.renderer;if(App.setup.renderers.join(",").indexOf(p.renderer)===-1){p.renderer=App.setup.supportsSVG?"svg":(App.setup.supportsCanvas?"canvas":"html")}var l=getNodeArray(g.images);var D=getNodeArray(g.bgnodes);var j=getNodeArray(g.stylenodes);var c=getNodeArray(g.objects);p.stylesheets=[];p.svgXMLStylesheet=true;p.noFontFallback=g.noFontFallback?g.noFontFallback:false;for(var w=0;w<j.length;w++){var C=j[w];if(C.attributes.rel&&C.attributes.href&&C.attributes.rel.value=="stylesheet"){var x=C.attributes.href.value;var t=newEl("a");t.href=x;var u=t.protocol+"//"+t.host+t.pathname+t.search;p.stylesheets.push(u)}}for(w=0;w<D.length;w++){if(!global.getComputedStyle){continue}var d=global.getComputedStyle(D[w],null).getPropertyValue("background-image");var z=D[w].getAttribute("data-background-src");var B=null;if(z==null){B=d}else{B=z}var k=null;var F="?"+g.domain+"/";if(B.indexOf(F)===0){k=B.slice(1)}else{if(B.indexOf(F)!=-1){var b=B.substr(B.indexOf(F)).slice(1);var f=b.match(/([^\"]*)"?\)/);if(f!=null){k=f[1]}}}if(k!=null){var y=parseURL(k,g);if(y){prepareDOMElement({mode:"background",el:D[w],flags:y,engineSettings:p})}}}for(w=0;w<c.length;w++){var E=c[w];var a={};try{a.data=E.getAttribute("data");a.dataSrc=E.getAttribute(App.vars.dataAttr)}catch(A){}var o=a.data!=null&&a.data.indexOf(g.domain)===0;var q=a.dataSrc!=null&&a.dataSrc.indexOf(g.domain)===0;if(o){prepareImageElement(g,p,a.data,E)}else{if(q){prepareImageElement(g,p,a.dataSrc,E)}}}for(w=0;w<l.length;w++){var r=l[w];var n={};try{n.src=r.getAttribute("src");n.dataSrc=r.getAttribute(App.vars.dataAttr);n.rendered=r.getAttribute("data-holder-rendered")}catch(A){}var s=n.src!=null;var m=n.dataSrc!=null&&n.dataSrc.indexOf(g.domain)===0;var v=n.rendered!=null&&n.rendered=="true";if(s){if(n.src.indexOf(g.domain)===0){prepareImageElement(g,p,n.src,r)}else{if(m){if(v){prepareImageElement(g,p,n.dataSrc,r)}else{(function(I,i,H,e,G){imageExists(I,function(J){if(!J){prepareImageElement(i,H,e,G)}})})(n.src,g,p,n.dataSrc,r)}}}}else{if(m){prepareImageElement(g,p,n.dataSrc,r)}}}return this}};var App={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(b){var a=this.regex.exec(b);return{width:+a[1],height:+a[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(b){var a=this.regex.exec(b);return{width:a[1],height:a[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(b){var a=this.regex.exec(b);return{foreground:"#"+a[2],background:"#"+a[1]}}},text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},random:{regex:/^random$/},size:{regex:/size\:(\d+)/,output:function(a){return this.regex.exec(a)[1]}}}};function prepareImageElement(b,e,d,c){var a=parseURL(d.substr(d.lastIndexOf(b.domain)),b);if(a){prepareDOMElement({mode:null,el:c,flags:a,engineSettings:e})}}function parseURL(b,p){var k={theme:extend(App.settings.themes.gray,null),stylesheets:p.stylesheets,holderURL:[]};var c=false;var h=String.fromCharCode(11);var d=b.replace(/([^\\])\//g,"$1"+h).split(h);var l=/%[0-9a-f]{2}/gi;for(var o=d.length,f=0;f<o;f++){var m=d[f];if(m.match(l)){try{m=decodeURIComponent(m)}catch(i){m=d[f]}}var n=false;if(App.flags.dimensions.match(m)){c=true;k.dimensions=App.flags.dimensions.output(m);n=true}else{if(App.flags.fluid.match(m)){c=true;k.dimensions=App.flags.fluid.output(m);k.fluid=true;n=true}else{if(App.flags.textmode.match(m)){k.textmode=App.flags.textmode.output(m);n=true}else{if(App.flags.colors.match(m)){var a=App.flags.colors.output(m);k.theme=extend(k.theme,a);n=true}else{if(p.themes[m]){if(p.themes.hasOwnProperty(m)){k.theme=extend(p.themes[m],null)}n=true}else{if(App.flags.font.match(m)){k.font=App.flags.font.output(m);n=true}else{if(App.flags.auto.match(m)){k.auto=true;n=true}else{if(App.flags.text.match(m)){k.text=App.flags.text.output(m);n=true}else{if(App.flags.size.match(m)){k.size=App.flags.size.output(m);n=true}else{if(App.flags.random.match(m)){if(App.vars.cache.themeKeys==null){App.vars.cache.themeKeys=Object.keys(p.themes)}var g=App.vars.cache.themeKeys[0|Math.random()*App.vars.cache.themeKeys.length];k.theme=extend(p.themes[g],null);n=true}}}}}}}}}}if(n){k.holderURL.push(m)}}k.holderURL.unshift(p.domain);k.holderURL=k.holderURL.join("/");return c?k:false}function prepareDOMElement(i){var n=i.mode;var e=i.el;var f=i.flags;var a=i.engineSettings;var b=f.dimensions,l=f.theme;var c=b.width+"x"+b.height;n=n==null?(f.fluid?"fluid":"image"):n;if(f.text!=null){l.text=f.text;if(e.nodeName.toLowerCase()==="object"){var m=l.text.split("\\n");for(var h=0;h<m.length;h++){m[h]=encodeHtmlEntity(m[h])}l.text=m.join("\\n")}}var j=f.holderURL;var g=extend(a,null);if(f.font){l.font=f.font;if(!g.noFontFallback&&e.nodeName.toLowerCase()==="img"&&App.setup.supportsCanvas&&g.renderer==="svg"){g=extend(g,{renderer:"canvas"})}}if(f.font&&g.renderer=="canvas"){g.reRender=true}if(n=="background"){if(e.getAttribute("data-background-src")==null){setAttr(e,{"data-background-src":j})}}else{var d={};d[App.vars.dataAttr]=j;setAttr(e,d)}f.theme=l;e.holderData={flags:f,engineSettings:g};if(n=="image"||n=="fluid"){setAttr(e,{alt:(l.text?l.text+" ["+c+"]":c)})}var o={mode:n,el:e,holderSettings:{dimensions:b,theme:l,flags:f},engineSettings:g};if(n=="image"){if(g.renderer=="html"||!f.auto){e.style.width=b.width+"px";e.style.height=b.height+"px"}if(g.renderer=="html"){e.style.backgroundColor=l.background}else{render(o);if(f.textmode=="exact"){e.holderData.resizeUpdate=true;App.vars.resizableImages.push(e);updateResizableElements(e)}}}else{if(n=="background"&&g.renderer!="html"){render(o)}else{if(n=="fluid"){e.holderData.resizeUpdate=true;if(b.height.slice(-1)=="%"){e.style.height=b.height}else{if(f.auto==null||!f.auto){e.style.height=b.height+"px"}}if(b.width.slice(-1)=="%"){e.style.width=b.width}else{if(f.auto==null||!f.auto){e.style.width=b.width+"px"}}if(e.style.display=="inline"||e.style.display===""||e.style.display=="none"){e.style.display="block"}setInitialDimensions(e);if(g.renderer=="html"){e.style.backgroundColor=l.background}else{App.vars.resizableImages.push(e);updateResizableElements(e)}}}}}function render(i){var d=null;var g=i.mode;var e=i.holderSettings;var a=i.el;var c=i.engineSettings;switch(c.renderer){case"svg":if(!App.setup.supportsSVG){return}break;case"canvas":if(!App.setup.supportsCanvas){return}break;default:return}var f={width:e.dimensions.width,height:e.dimensions.height,theme:e.theme,flags:e.flags};var b=buildSceneGraph(f);function h(){var j=null;switch(c.renderer){case"canvas":j=sgCanvasRenderer(b,i);break;case"svg":j=sgSVGRenderer(b,i);break;default:throw"Holder: invalid renderer: "+c.renderer}return j}d=h();if(d==null){throw"Holder: couldn't render placeholder"}if(g=="background"){a.style.backgroundImage="url("+d+")";a.style.backgroundSize=f.width+"px "+f.height+"px"}else{if(a.nodeName.toLowerCase()==="img"){setAttr(a,{src:d})}else{if(a.nodeName.toLowerCase()==="object"){setAttr(a,{data:d});setAttr(a,{type:"image/svg+xml"})}}if(c.reRender){global.setTimeout(function(){var j=h();if(j==null){throw"Holder: couldn't render placeholder"}if(a.nodeName.toLowerCase()==="img"){setAttr(a,{src:j})}else{if(a.nodeName.toLowerCase()==="object"){setAttr(a,{data:j});setAttr(a,{type:"image/svg+xml"})}}},100)}}setAttr(a,{"data-holder-rendered":true})}function buildSceneGraph(s){var c=App.defaults.size;if(parseFloat(s.theme.size)){c=s.theme.size}else{if(parseFloat(s.flags.size)){c=s.flags.size}}s.font={family:s.theme.font?s.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:textSize(s.width,s.height,c),units:s.theme.units?s.theme.units:App.defaults.units,weight:s.theme.fontweight?s.theme.fontweight:"bold"};s.text=s.theme.text?s.theme.text:Math.floor(s.width)+"x"+Math.floor(s.height);switch(s.flags.textmode){case"literal":s.text=s.flags.dimensions.width+"x"+s.flags.dimensions.height;break;case"exact":if(!s.flags.exactDimensions){break}s.text=Math.floor(s.flags.exactDimensions.width)+"x"+Math.floor(s.flags.exactDimensions.height);break}var d=new SceneGraph({width:s.width,height:s.height});var e=d.Shape;var b=new e.Rect("holderBg",{fill:s.theme.background});b.resize(s.width,s.height);d.root.add(b);var n=new e.Group("holderTextGroup",{text:s.text,align:"center",font:s.font,fill:s.theme.foreground});n.moveTo(null,null,1);d.root.add(n);var f=n.textPositionData=stagingRenderer(d);if(!f){throw"Holder: staging fallback not supported yet."}n.properties.leading=f.boundingBox.height;var j=null;var g=null;function a(v,t,u,i){t.width=u;t.height=i;v.width=Math.max(v.width,t.width);v.height+=t.height;v.add(t)}if(f.lineCount>1){var r=0;var q=0;var l=s.width*App.setup.lineWrapRatio;var m=0;g=new e.Group("line"+m);for(var o=0;o<f.words.length;o++){var p=f.words[o];j=new e.Text(p.text);var k=p.text=="\\n";if(r+p.width>=l||k===true){a(n,g,r,n.properties.leading);r=0;q+=n.properties.leading;m+=1;g=new e.Group("line"+m);g.y=q}if(k===true){continue}j.moveTo(r,0);r+=f.spaceWidth+p.width;g.add(j)}a(n,g,r,n.properties.leading);for(var h in n.children){g=n.children[h];g.moveTo((n.width-g.width)/2,null,null)}n.moveTo((s.width-n.width)/2,(s.height-n.height)/2,null);if((s.height-n.height)/2<0){n.moveTo(null,0,null)}}else{j=new e.Text(s.text);g=new e.Group("line0");g.add(j);n.add(g);n.moveTo((s.width-f.boundingBox.width)/2,(s.height-f.boundingBox.height)/2,null)}return d}function textSize(f,b,h){var e=parseInt(f,10);var g=parseInt(b,10);var a=Math.max(e,g);var d=Math.min(e,g);var c=0.8*Math.min(d,a*App.defaults.scale);return Math.round(Math.max(h,c))}function updateResizableElements(f){var h;if(f==null||f.nodeType==null){h=App.vars.resizableImages}else{h=[f]}for(var g=0,e=h.length;g<e;g++){var b=h[g];if(b.holderData){var c=b.holderData.flags;var a=dimensionCheck(b);if(a){if(!b.holderData.resizeUpdate){continue}if(c.fluid&&c.auto){var j=b.holderData.fluidConfig;switch(j.mode){case"width":a.height=a.width/j.ratio;break;case"height":a.width=a.height*j.ratio;break}}var d={mode:"image",holderSettings:{dimensions:a,theme:c.theme,flags:c},el:b,engineSettings:b.holderData.engineSettings};if(c.textmode=="exact"){c.exactDimensions=a;d.holderSettings.dimensions=c.dimensions}render(d)}else{setInvisible(b)}}}}function setInitialDimensions(b){if(b.holderData){var c=dimensionCheck(b);if(c){var a=b.holderData.flags;var d={fluidHeight:a.dimensions.height.slice(-1)=="%",fluidWidth:a.dimensions.width.slice(-1)=="%",mode:null,initialDimensions:c};if(d.fluidWidth&&!d.fluidHeight){d.mode="width";d.ratio=d.initialDimensions.width/parseFloat(a.dimensions.height)}else{if(!d.fluidWidth&&d.fluidHeight){d.mode="height";d.ratio=parseFloat(a.dimensions.width)/d.initialDimensions.height}}b.holderData.fluidConfig=d}else{setInvisible(b)}}}function visibilityCheck(){var e=[];var d=Object.keys(App.vars.invisibleImages);var c;for(var b=0,a=d.length;b<a;b++){c=App.vars.invisibleImages[d[b]];if(dimensionCheck(c)&&c.nodeName.toLowerCase()=="img"){e.push(c);delete App.vars.invisibleImages[d[b]]}}if(e.length){Holder.run({images:e})}global.requestAnimationFrame(visibilityCheck)}function startVisibilityCheck(){if(!App.vars.visibilityCheckStarted){global.requestAnimationFrame(visibilityCheck);App.vars.visibilityCheckStarted=true}}function setInvisible(a){if(!a.holderData.invisibleId){App.vars.invisibleId+=1;App.vars.invisibleImages["i"+App.vars.invisibleId]=a;a.holderData.invisibleId=App.vars.invisibleId}}var stagingRenderer=(function(){var a=null,c=null,b=null;return function(r){var g=r.root;if(App.setup.supportsSVG){var f=false;var e=function(i){return document.createTextNode(i)};if(a==null||a.parentNode!==document.body){f=true}a=initSVG(a,g.properties.width,g.properties.height);a.style.display="block";if(f){c=newEl("text",SVG_NS);b=e(null);setAttr(c,{x:0});c.appendChild(b);a.appendChild(c);document.body.appendChild(a);a.style.visibility="hidden";a.style.position="absolute";a.style.top="-100%";a.style.left="-100%"}var k=g.children.holderTextGroup;var h=k.properties;setAttr(c,{y:h.font.size,style:cssProps({"font-weight":h.font.weight,"font-size":h.font.size+h.font.units,"font-family":h.font.family})});b.nodeValue=h.text;var q=c.getBBox();var t=Math.ceil(q.width/(g.properties.width*App.setup.lineWrapRatio));var n=h.text.split(" ");var m=h.text.match(/\\n/g);t+=m==null?0:m.length;b.nodeValue=h.text.replace(/[ ]+/g,"");var l=c.getComputedTextLength();var o=q.width-l;var s=Math.round(o/Math.max(1,n.length-1));var d=[];if(t>1){b.nodeValue="";for(var j=0;j<n.length;j++){if(n[j].length===0){continue}b.nodeValue=decodeHtmlEntity(n[j]);var p=c.getBBox();d.push({text:n[j],width:p.width})}}a.style.display="none";return{spaceWidth:s,lineCount:t,boundingBox:q,words:d}}else{return false}}})();var sgCanvasRenderer=(function(){var b=newEl("canvas");var a=null;return function(e){if(a==null){a=b.getContext("2d")}var i=e.root;b.width=App.dpr(i.properties.width);b.height=App.dpr(i.properties.height);a.textBaseline="middle";a.fillStyle=i.children.holderBg.properties.fill;a.fillRect(0,0,App.dpr(i.children.holderBg.width),App.dpr(i.children.holderBg.height));var f=i.children.holderTextGroup;var c=f.properties;a.font=f.properties.font.weight+" "+App.dpr(f.properties.font.size)+f.properties.font.units+" "+f.properties.font.family+", monospace";a.fillStyle=f.properties.fill;for(var k in f.children){var l=f.children[k];for(var g in l.children){var d=l.children[g];var j=App.dpr(f.x+l.x+d.x);var h=App.dpr(f.y+l.y+d.y+(f.properties.leading/2));a.fillText(d.properties.text,j,h)}}return b.toDataURL("image/png")}})();var sgSVGRenderer=(function(){if(!global.XMLSerializer){return}var b=createXML();var a=initSVG(null,0,0);var c=newEl("rect",SVG_NS);a.appendChild(c);return function(d,e){var v=d.root;initSVG(a,v.properties.width,v.properties.height);var D=a.querySelectorAll("g");for(var w=0;w<D.length;w++){D[w].parentNode.removeChild(D[w])}var f=e.holderSettings.flags.holderURL;var p="holder_"+(Number(new Date())+32768+(0|Math.random()*32768)).toString(16);var j=newEl("g",SVG_NS);var C=v.children.holderTextGroup;var m=C.properties;var t=newEl("g",SVG_NS);var g=C.textPositionData;var u="#"+p+" text { "+cssProps({fill:m.fill,"font-weight":m.font.weight,"font-family":m.font.family+", monospace","font-size":m.font.size+m.font.units})+" } ";var B=b.createComment("\nSource URL: "+f+generatorComment);var o=b.createCDATASection(u);var r=a.querySelector("style");setAttr(j,{id:p});a.insertBefore(B,a.firstChild);r.appendChild(o);j.appendChild(c);j.appendChild(t);a.appendChild(j);setAttr(c,{width:v.children.holderBg.width,height:v.children.holderBg.height,fill:v.children.holderBg.properties.fill});C.y+=g.boundingBox.height*0.8;for(var q in C.children){var l=C.children[q];for(var E in l.children){var A=l.children[E];var k=C.x+l.x+A.x;var h=C.y+l.y+A.y;var z=newEl("text",SVG_NS);var s=document.createTextNode(null);setAttr(z,{x:k,y:h});s.nodeValue=A.properties.text;z.appendChild(s);t.appendChild(z)}}var n="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(serializeSVG(a,e.engineSettings))));return n}})();function newEl(a,b){if(b==null){return document.createElement(a)}else{return document.createElementNS(b,a)}}function setAttr(d,c){for(var b in c){d.setAttribute(b,c[b])}}function initSVG(c,f,b){var a,e;if(c==null){c=newEl("svg",SVG_NS);a=newEl("defs",SVG_NS);e=newEl("style",SVG_NS);setAttr(e,{type:"text/css"});a.appendChild(e);c.appendChild(a)}else{e=c.querySelector("style")}if(c.webkitMatchesSelector){c.setAttribute("xmlns",SVG_NS)}for(var d=0;d<c.childNodes.length;d++){if(c.childNodes[d].nodeType===NODE_TYPE_COMMENT){c.removeChild(c.childNodes[d])}}while(e.childNodes.length){e.removeChild(e.childNodes[0])}setAttr(c,{width:f,height:b,viewBox:"0 0 "+f+" "+b,preserveAspectRatio:"none"});return c}function serializeSVG(f,c){if(!global.XMLSerializer){return}var g=new XMLSerializer();var b="";var h=c.stylesheets;if(c.svgXMLStylesheet){var e=createXML();for(var d=h.length-1;d>=0;d--){var j=e.createProcessingInstruction("xml-stylesheet",'href="'+h[d]+'" rel="stylesheet"');e.insertBefore(j,e.firstChild)}var a=e.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');e.insertBefore(a,e.firstChild);e.removeChild(e.documentElement);b=g.serializeToString(e)}var k=g.serializeToString(f);k=k.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1");return b+k}function createXML(){if(!global.DOMParser){return}return new DOMParser().parseFromString("<xml />","application/xml")}function debounce(a){if(!App.vars.debounceTimer){a.call(this)}if(App.vars.debounceTimer){global.clearTimeout(App.vars.debounceTimer)}App.vars.debounceTimer=global.setTimeout(function(){App.vars.debounceTimer=null;a.call(this)},App.setup.debounce)}function resizeEvent(){debounce(function(){updateResizableElements(null)})}for(var flag in App.flags){if(!App.flags.hasOwnProperty(flag)){continue}App.flags[flag].match=function(a){return a.match(this.regex)}}App.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:false,supportsSVG:false,lineWrapRatio:0.9,renderers:["html","canvas","svg"]};App.dpr=function(a){return a*App.setup.ratio};App.vars={preempted:false,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:false,debounceTimer:null,cache:{},dataAttr:"data-src"};(function(){var a=1,d=1;var c=newEl("canvas");var b=null;if(c.getContext){if(c.toDataURL("image/png").indexOf("data:image/png")!=-1){App.setup.renderer="canvas";b=c.getContext("2d");App.setup.supportsCanvas=true}}if(App.setup.supportsCanvas){a=global.devicePixelRatio||1;d=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1}App.setup.ratio=a/d;if(!!document.createElementNS&&!!document.createElementNS(SVG_NS,"svg").createSVGRect){App.setup.renderer="svg";App.setup.supportsSVG=true}})();startVisibilityCheck();if(onDomReady){onDomReady(function(){if(!App.vars.preempted){Holder.run()}if(global.addEventListener){global.addEventListener("resize",resizeEvent,false);global.addEventListener("orientationchange",resizeEvent,false)}else{global.attachEvent("onresize",resizeEvent)}if(typeof global.Turbolinks=="object"){global.document.addEventListener("page:change",function(){Holder.run()})}})}module.exports=Holder;